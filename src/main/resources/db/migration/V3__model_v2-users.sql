CREATE TABLE ROLEV2(
    ID VARCHAR(255) NOT NULL,
    NAME VARCHAR(255) NOT NULL
);
ALTER TABLE ROLEV2 ADD CONSTRAINT CONSTRAINT_90 PRIMARY KEY(ID);

CREATE TABLE USERV2(
    ID VARCHAR(255) NOT NULL,
    NAME VARCHAR(255) NOT NULL,
    PASSWORD VARCHAR(255) NOT NULL,
    LOCKED BOOLEAN DEFAULT FALSE NOT NULL
);
ALTER TABLE USERV2 ADD CONSTRAINT CONSTRAINT_95 PRIMARY KEY(ID);

CREATE TABLE USER_ROLE_V2(
    USERV2_ID VARCHAR(255) NOT NULL,
    ROLES_ID VARCHAR(255) NOT NULL
);
ALTER TABLE USER_ROLE_V2 ADD CONSTRAINT CONSTRAINT_3 PRIMARY KEY(USERV2_ID, ROLES_ID);

INSERT INTO ROLEV2 (ID, NAME) VALUES ('444d3ffe-1ebe-4c07-a1a1-4abeb8e87774', 'ADMIN');

INSERT INTO USERV2(ID, NAME, PASSWORD) VALUES
('a9b7c128-9d68-47dd-a7ab-53f07d741dab', 'admin', '$2a$10$4NUDXX/5yFTsUGzUFG7EHOW374KS9OKduOlYmcMD8zOhEmu8v6Ud2');

INSERT INTO USER_ROLE_V2 (USERV2_ID, ROLES_ID) VALUES
('a9b7c128-9d68-47dd-a7ab-53f07d741dab', '444d3ffe-1ebe-4c07-a1a1-4abeb8e87774');

ALTER TABLE USERV2 ADD CONSTRAINT UK_8GGQDA2HX6WCX2KFQNBJBSEMF UNIQUE(NAME);
ALTER TABLE ROLEV2 ADD CONSTRAINT UK_ROLE_NAME UNIQUE(NAME);
ALTER TABLE USER_ROLE_V2 ADD CONSTRAINT FKPGCQLU51GEPCEGLKHW968DK2W FOREIGN KEY(ROLES_ID) REFERENCES ROLEV2(ID);
ALTER TABLE USER_ROLE_V2 ADD CONSTRAINT FK9G6NMMYVOCKR3HE4EIDNIQ56Y FOREIGN KEY(USERV2_ID) REFERENCES USERV2(ID);
